installed.packages()
install.packages(DMwR)
install.packages("DMwR")
installed.packages()
old.packages()
update.packages()
set.seed(123)
x <- norm(250)
x <- rnorm(250)
y1 <- 2*x + 3 + rnorm(length(0), 0.5)
y1 <- -4*x + 10 + rnorm(length(0), 1)
y1 <- 2*x + 3 + rnorm(length(0), 0.5)
y2 <- 2*x + 3 + rnorm(length(0), 0.5)
getwd()
zv <- 9/7
vq <- 4/7.67
zq <- vq
remove(vq)
pnorm(zv)
pnorm(zq)
plot(pnorm(zv))
plot(pnorm(zv, 151, 7))
setwd("E:/Programs/Analysis")
alldata = read.csv("Aggregate Data.csv")
schoolnames = read.csv("School names.csv")
zipdata = read.csv("Wayne_Schools_ZIPS.csv")
zipdata
View(zipdata)
schoolnames$X
View(schoolnames)
schoolnames$cleaned = sub(c(" (", ")"), "", schoolnames$x)
schoolnames$cleaned = sub(" (", "", schoolnames$x)
schoolnames$cleaned = sub(" (", "", schoolnames$x)
schoolnames$cleaned = sub("8", "", schoolnames$x)
schoolnames = read.csv("School names.csv")
schoolnames$cleaned = sub("0", "", schoolnames$x)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
View(schoolnames)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("#", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$cleaned)
schoolnames$cleaned = sub(" ()", "", schoolnames$cleaned)
View(schoolnames)
schoolnames$cleaned = sub(" ()", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$x)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("#", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$cleaned)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
View(schoolnames)
schoolnames$cleaned = sub(")", "", schoolnames$cleaned)
schoolnames$cleaned = sub("(", "", schoolnames$cleaned)
schoolnames$cleaned = sub("\(", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$x)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("#", "", schoolnames$cleaned)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub(")", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$cleaned)
schoolnames$cleaned = sub("\(", "", schoolnames$cleaned)
schoolnames$cleaned = sub("(", "", schoolnames$cleaned)
schoolnames$cleaned = sub('\(', "", schoolnames$cleaned)
schoolnames$cleaned = sub('(', "", schoolnames$cleaned)
schoolnames$cleaned = sub('(\\)', "", schoolnames$cleaned)
schoolnames$cleaned = sub(" ()", "#", schoolnames$cleaned)
schoolnames$cleaned = sub(" (8", "#", schoolnames$cleaned)
schoolnames$cleaned = sub(" \\()", "#", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$x)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("#", "", schoolnames$cleaned)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub(" \\()", "#", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$x)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$cleaned)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("#", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub(" \\()", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$x)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("#", "", schoolnames$cleaned)
schoolnames$cleaned = sub("0", "", schoolnames$cleaned)
schoolnames$cleaned = sub('1', "", schoolnames$cleaned)
schoolnames$cleaned = sub("2", "", schoolnames$cleaned)
schoolnames$cleaned = sub("3", "", schoolnames$cleaned)
schoolnames$cleaned = sub("4", "", schoolnames$cleaned)
schoolnames$cleaned = sub("5", "", schoolnames$cleaned)
schoolnames$cleaned = sub("6", "", schoolnames$cleaned)
schoolnames$cleaned = sub("7", "", schoolnames$cleaned)
schoolnames$cleaned = sub("8", "", schoolnames$cleaned)
schoolnames$cleaned = sub("9", "", schoolnames$cleaned)
schoolnames$cleaned = sub("1", "", schoolnames$cleaned)
schoolnames$cleaned = sub(" \\()", "", schoolnames$cleaned)
write.csv(schoolnames, "School names.csv")
?subset
View(zipdata)
school.location = subset(zipdata, select = c(zipdata$BuildingName, zipdata$ZIP_CODE, zipdata$Latitude, zipdata$Longitude))
school.location = subset(zipdata, select = list(zipdata$BuildingName, zipdata$ZIP_CODE, zipdata$Latitude, zipdata$Longitude))
school.location = subset(zipdata, select = c(zipdata$BuildingName, zipdata$ZIP_CODE, zipdata$Latitude, zipdata$Longitude))
school.location = subset(zipdata, select = c(BuildingName, ZIP_CODE, Latitude, Longitude))
View(schoolnames)
View(school.location)
schoolnames$ZIPCODE = school.location$ZIP_CODE[school.location$BuildingName == schoolnames$x]
school.location$cleaned = school.location.BuildingName
school.location$cleaned = school.location$BuildingName
install.packages(dplyr)
merge(schoolnames, school.location, by = "cleaned", all.x = TRUE)
school.data = merge(schoolnames, school.location, by = "cleaned", all.x = TRUE)
View(school.data)
schoolnames = schoolnames[,-1]
schoolnames = schoolnames[,-c(1,2)]
schoolnames = read.csv("School names.csv")
schoolnames = schoolnames[,-c(1,2)]
View(schoolnames)
schoolnames = read.csv("School names.csv")
schoolnames = schoolnames[,-c(1,2,3)]
schoolnames = read.csv("School names.csv")
backup = school.data
View(school.data)
backup = backup[, -c(2,4)]
View(backup)
colnames(backup)[colnames(backup) == "cleaned"] = "School.Name"
View(alldata)
backup$Location.Name = backup$x
colnames(backup)[colnames(backup) == "ZIP_CODE"] = "ZIP.Code"
backup = backup[, -2]
school.data = backup
backup = unique(backup)
View(backup)
View(schoolnames)
View(zipdata)
backup = backup[!(School.Name == "Henry Ford Academy" & ZIP.Code == 48203)]
backup = backup[!(backup$School.Name == "Henry Ford Academy" & backup$ZIP.Code == 48203)]
backup = backup[!(backup$School.Name == "Henry Ford Academy" & backup$ZIP.Code == 48203),]
summary(school.data)
school.data = backup
write.csv(school.data, "School Data.csv")
merge(alldata, school.data, by = "Location.Name", all.x = TRUE)
View(alldata)
EduData.w.Loc = merge(alldata, school.data, by = "Location.Name", all.x = TRUE)
View(EduData.w.Loc)
EduData.w.Loc[order(EduData.w.Loc$Location.Name, EduData.w.Loc$enrollyear)]
EduData.w.Loc[order(EduData.w.Loc$Location.Name, EduData.w.Loc$enrollyear),]
school.data = read.csv("School Data.csv")
school.data = read.csv("School Data.csv")
EduData.w.Loc = merge(alldata, school.data, by = "Location.Name", all.x = TRUE)
EduData.w.Loc[order(EduData.w.Loc$Location.Name, EduData.w.Loc$enrollyear),]
write.csv(EduData.w.Loc, "Education_Data_wLoc")
write.csv(EduData.w.Loc, "Education_Data_wLoc.csv")
knitr::opts_chunk$set(echo = TRUE)
head(small.education)
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Projects/Detroit Project/detroit-crime-education/data/clean/Education")
education <- read.csv("Education_Data_wLoc.csv")
colnames(education)
head(education)
#Dropping is not meaningful for factors, hence converting factors to chars
head(education)
education$School.Name = as.character(education$School.Name)
education$Location.Name = as.character(education$Location.Name)
education$Rate.Year = as.character(education$Rate.Year)
write.csv("Education_Data_wLoc.csv")
colnames(education)
drops <- names(education) %in% c("Rate.Year", "OffTrack.Other","Graduation.Rate", "Dropout.Rate", "Location.Name")
small.education <- education[!drops]
#dim(small.education) /#Same 1426 rows
#Convert factors to characters
head(small.education)
clean.education=aggregate(small.education, by=list(small.education$enrollyear, small.education$ZIP.Code, small.education$School.Name), FUN=max)
head(clean.education)
#Re-order columns
#clean.education = clean.education["enrollyear"," "," "]
#rename columns
colnames(clean.education)
#Save to file
colnames(clean.education)
dim(clean.education)
colnames(education)
colnames(clean.education)# =c(" "," ", " ", " "," ")
clean.education = clean.education["enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longtitude"]
clean.education = clean.education[,"enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longtitude"]
clean.education = clean.education[,"enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longtitude"]
clean.education = clean.education[,"enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longtitude"]
clean.education = clean.education["enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longtitude"]
keep =c("enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longtitude")
clean.education = clean.education[keep]
colnames(clean.education)# =c(" "," ", " ", " "," ")
keep =c("enrollyear", "School.Name", "Cohort.Graduation.Year", "gradyear", "Total.Cohort", "Total.Graduated", "Dropouts", "ZIP.Code", "Latitude", "Longitude")
clean.education = clean.education[keep]
colnames(clean.education)# =c(" "," ", " ", " "," ")
colnames(clean.education) =c("ENROLL.YEAR","SCHOOL.NAME", "COHORT.GRAD.YEAR", "GRAD.YEAR","NUM.COHORT","NUM_GRADUATES", "NUM_DROPOUTS","ZIP","LATITUDE","LONGITUDE")
clean.education$GRAD.RATE = clean.education$NUM_GRADUATES/clean.education$NUM.COHORT
clean.education$DROP.RATE = clean.education$NUM_DROPOUTS/clean.education$NUM.COHORT
dim(clean.education)
View(clean.education)
colnames(clean.education) =c("ENROLL_YEAR","SCHOOL_NAME", "COHORT_GRAD_YEAR", "GRAD_YEAR","NUM_COHORT","NUM_GRADUATES", "NUM_DROPOUTS","ZIP","LATITUDE","LONGITUDE")
clean.education$GRAD.RATE = clean.education$NUM_GRADUATES/clean.education$NUM.COHORT
clean.education$GRAD_RATE = clean.education$NUM_GRADUATES/clean.education$NUM.COHORT
clean.education$DROP_RATE = clean.education$NUM_DROPOUTS/clean.education$NUM.COHORT
dim(clean.education)
head(clean.education)
colnames(clean.education) =c("ENROLL_YEAR","SCHOOL_NAME", "COHORT_GRAD_YEAR", "GRAD_YEAR","NUM_COHORT","NUM_GRADUATES", "NUM_DROPOUTS","ZIP","LATITUDE","LONGITUDE","GRAD_RATE", "DROP_RATE")
head(clean.education)
colnames(clean.education)# =c("ENROLL_YEAR","SCHOOL_NAME", "COHORT_GRAD_YEAR", "GRAD_YEAR","NUM_COHORT","NUM_GRADUATES", "NUM_DROPOUTS","ZIP","LATITUDE","LONGITUDE")
keep =c( "ENROLL_YEAR", "SCHOOL_NAME", "COHORT_GRAD_YEAR", "GRAD_YEAR","NUM_COHORT","NUM_GRADUATES","NUM_DROPOUTS","GRAD_RATE"        ,"DROP_RATE","ZIP" ,"LATITUDE","LONGITUDE")
clean.education= clean.education[keep]
colnames(clean.education)
write.csv("education-with-zips.csv")
write.csv("clean-education-with-zips.csv")
write.csv(clean.education, "clean-education-with-zips.csv")
View(small.education)
View(clean.education)
setwd("~/Projects/Detroit Project")
crime <- read.csv("crimewithzips.csv")
colnames(crime)
keep = c("YEAR", "ZIP_CHAR")
simple.crime=crime[keep]
colnames(simple.crime)
simple.crime$NUM_CRIMES = 1
colnames(simple.crime)
head(simple.crime)
simple.crime=aggregate(simple.crime$NUM_CRIMES, by=list(simple.crime$YEAR, simple.crime$ZIP_CHAR), FUN=sum)
colnames(simple.crime)
colnames(simple.crime) = c("YEAR", "ZIP", "NUM_CRIMES")
head(simple.crime)
summary(simple.crime)
plot(simple.crime)
colnames(education)
education <- read.csv("clean-education-with-zips.csv")
setwd("~/Projects/Detroit Project/detroit-crime-education/data/clean/Education")
education <- read.csv("clean-education-with-zips.csv")
colnames(education)
plot(simple.crime$NUM_CRIMES, simple.crime$YEAR)
plot(simple.crime$NUM_CRIMES ~simple.crime$YEAR)
plot(simple.crime$NUM_CRIMES ~simple.crime$YEAR, type="box")
plot(simple.crime$NUM_CRIMES ~simple.crime$YEAR, type="boxplot")
boxplot(simple.crime$NUM_CRIMES ~simple.crime, data=simple.crime)
boxplot("NUM_CRIMES" ~"simple.crime", data=simple.crime)
plot(simple.crime$NUM_CRIMES ~simple.crime$YEAR)
library(ggplot2)
p<-ggplot(simple.crime, aes(x="YEAR", y="NUM_CRIMES", color="YEAR")) +
geom_violin(trim=FALSE)
p
p<-ggplot(simple.crime, aes(x=simple.crime$YEAR, y=simple.crime$NUM_CRIMES, color=simple.crime$YEAR)) +
geom_violin(trim=FALSE)
p
head(simple.crime)
simple.crime$YEAR = as.factor(simple.crime$YEAR)
p<-ggplot(simple.crime, aes(x=simple.crime$YEAR, y=simple.crime$NUM_CRIMES, color=simple.crime$YEAR)) +
geom_violin(trim=FALSE)
p
p + stat_summary(fun.y=median, geom="point", size=2, color="red")
p + stat_summary(fun.y=median, geom="point", size=2, color="red") + p + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
p + stat_summary(fun.y=median, geom="point", size=2, color="red") + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
p + stat_summary(fun.y=median, geom="point", size=2, color="white") + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
p + stat_summary(fun.y=median, geom="point", size=2, color="red") + stat_summary(fun.y=mean, geom="point", shape=23, size=2)
p<-ggplot(simple.crime, aes(x=simple.crime$YEAR, y=simple.crime$NUM_CRIMES, color=simple.crime$YEAR)) +  geom_boxplot()
p<-ggplot(simple.crime, aes(x=simple.crime$YEAR, y=simple.crime$NUM_CRIMES, color=simple.crime$YEAR)) +  geom_boxplot()
p
colnames(education)
education$NUM_SCHOOLS= 1
colnames
colnames(education)
keep1= c("ENROLL_YEAR", "COHORT_GRAD_YEAR","NUM_SCHOOLS","NUM_COHORT", "NUM_GRADUATES", "NUM_DROPOUTS", "ZIP")
simple.education1 = education[keep1]
simple.education.enroll = education[keep1]
edu.enroll = education[keep1]
View(education)
edu.enroll=aggregate(edu.enroll, by=list("ENROLL_YEAR","ZIP"), FUN=sum)
edu.enroll=aggregate(edu.enroll, by=list(edu.enroll$ENROLL_YEAR, edu.enroll$ZIP), FUN=sum)
edu.enroll = education[keep1]
edu.enroll=aggregate(edu.enroll, by=list(edu.enroll$ENROLL_YEAR, edu.enroll$ZIP), FUN=sum)
head(edu.enroll)
education
colnames(education)
keep1= c("ENROLL_YEAR", "COHORT_GRAD_YEAR","NUM_SCHOOLS","NUM_COHORT", "NUM_GRADUATES", "NUM_DROPOUTS", "ZIP")
edu.enroll = education[keep1]
edu.enroll
edu.enroll=aggregate(edu.enroll, by=list(edu.enroll$ENROLL_YEAR, edu.enroll$ZIP), FUN=sum)
edu.enroll
keep2= c("GRAD_YEAR","NUM_SCHOOLS","NUM_COHORT", "NUM_GRADUATES", "NUM_DROPOUTS", "ZIP")
edu.grad=aggregate(edu.grad, by=list(edu.grad$GRAD_YEAR, edu.grad$ZIP), FUN=sum)
edu.grad= education[keep]
keep2= c("GRAD_YEAR","NUM_SCHOOLS","NUM_COHORT", "NUM_GRADUATES", "NUM_DROPOUTS", "ZIP")
edu.grad= education[keep]
edu.grad= education[keep2]
edu.grad=aggregate(edu.grad, by=list(edu.grad$GRAD_YEAR, edu.grad$ZIP), FUN=sum)
edu.grad
